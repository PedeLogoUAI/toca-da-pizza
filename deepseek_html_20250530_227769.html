<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Toca da Pizza - Cardápio Digital</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --vermelho: #D32F2F;
      --branco: #FFFFFF;
      --cinza: #F5F5F5;
    }
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--cinza);
    }
    /* Cabeçalho */
    header {
      background-color: var(--vermelho);
      color: var(--branco);
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .logo {
      font-size: 24px;
      font-weight: bold;
    }
    .user-icon {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    /* Status Horário */
    .status-loja {
      background-color: #333;
      color: white;
      padding: 8px;
      text-align: center;
      font-size: 14px;
    }
    .aberto { background-color: #4CAF50; }
    .fechado { background-color: #F44336; }
    /* Conteúdo */
    main {
      padding: 20px;
      margin-bottom: 70px;
    }
    .page {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    /* Rodapé - Modificado para fundo branco e texto vermelho */
    footer {
      background-color: var(--branco);
      color: var(--vermelho);
      padding: 15px 0;
      position: fixed;
      bottom: 0;
      width: 100%;
      display: flex;
      justify-content: space-around;
      box-shadow: 0 -2px 5px rgba(0,0,0,0.1);
    }
    .footer-icon {
      font-size: 20px;
      cursor: pointer;
    }
    /* Produtos */
    .produto {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      background: white;
    }
    .produto img {
      width: 100%;
      height: 150px;
      object-fit: cover;
      border-radius: 8px 8px 0 0;
      margin-bottom: 10px;
    }
    /* Carrinho */
    .item-carrinho {
      display: flex;
      justify-content: space-between;
      padding: 10px;
      border-bottom: 1px solid #eee;
      align-items: center;
    }
    /* Textos */
    .destaque {
      font-weight: bold;
      color: var(--vermelho);
    }
    .justificado {
      text-align: justify;
      margin: 15px 0;
    }
    /* Botões */
    button {
      cursor: pointer;
      transition: background 0.3s;
      border: none;
      padding: 8px 15px;
      border-radius: 4px;
    }
    .btn-primario {
      background: var(--vermelho);
      color: white;
    }
    .btn-secundario {
      background: #ccc;
      color: #333;
    }
    button:hover {
      opacity: 0.9;
    }
    /* Contador do carrinho */
    .contador-carrinho {
      position: absolute;
      top: -10px;
      right: -10px;
      background: var(--vermelho);
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <!-- Cabeçalho -->
  <header>
    <div class="logo">Toca da Pizza</div>
    <div class="user-icon">
      <span id="user-name">Visitante</span>
      <div style="position: relative;">
        <i class="fas fa-shopping-cart" onclick="loadCart()"></i>
        <span id="carrinho-contador" class="contador-carrinho">0</span>
      </div>
      <i class="fas fa-user-circle"></i>
    </div>
  </header>

  <!-- Status Horário -->
  <div id="status-loja" class="status-loja"></div>

  <!-- Conteúdo Dinâmico -->
  <main id="content"></main>

  <!-- Rodapé Modificado -->
  <footer>
    <i class="fas fa-home footer-icon" onclick="loadHome()"></i>
    <i class="fab fa-instagram footer-icon" onclick="window.open('https://instagram.com/tocadapizza')"></i>
    <i class="fas fa-info-circle footer-icon" onclick="loadAbout()"></i>
    <i class="fas fa-shopping-cart footer-icon" onclick="loadCart()"></i>
  </footer>

  <script>
    // ================= CONFIGURAÇÕES =================
    const TAXA_ENTREGA = 5.00;
    const DESCONTO_PERCENTUAL = 10;

    // ================= DADOS =================
    const produtos = [
    // Categoria: Pizzas
    { id: 1, categoria: "Pizzas", produto: "Alho Poró", descricao: "Molho de tomate, alho poró, farofa de bacon e geleia de pimienta.", valor: 35.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 2, categoria: "Pizzas", produto: "Calabresa", descricao: "Molho de tomate, mussarela, calabresa e cebolla crispy.", valor: 38.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 3, categoria: "Pizzas", produto: "Frango com Catupiry", descricao: "Molho de tomate, mussarela, frango desfiado, catupiry e azeitona.", valor: 40.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 4, categoria: "Pizzas", produto: "Marguerita", descricao: "Molho de tomate, mussarela, tomate e molho pesto.", valor: 42.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 5, categoria: "Pizzas", produto: "Marguerita da Toca", descricao: "Molho de tomate, mussarela, tomates confitados e molho pesto.", valor: 45.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 6, categoria: "Pizzas", produto: "Mussarela", descricao: "Molho de tomate, queijo mussarela.", valor: 43.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 7, categoria: "Pizzas", produto: "Pepperoni", descricao: "Molho de tomate, mussarela e pepperoni.", valor: 41.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 8, categoria: "Pizzas", produto: "Portuguesa", descricao: "Molho de tomate, mussarela, calabresa, cebola, presunto, pimentão, azeitona e ovo cozido.", valor: 30.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 9, categoria: "Pizzas", produto: "Presunto", descricao: "Molho de tomate, mussarela e presunto.", valor: 30.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 10, categoria: "Pizzas", produto: "Quatro Queijos", descricao: "Molho de tomate, mussarela, gorgonzola, provolone e catupiry.", valor: 30.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 11, categoria: "Pizzas", produto: "Romana", descricao: "Molho de tomate, mussarela, calabresa moída e alho torrado.", valor: 30.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 12, categoria: "Pizzas", produto: "Velho do Mar", descricao: "Molho de tomate, mussarela, atum, cebola, azeitona e ovo cozido.", valor: 30.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 13, categoria: "Pizzas", produto: "Banana com Canela", descricao: "Pizza doce com, mussarela, banana e canela.", valor: 30.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 14, categoria: "Pizzas", produto: "Nutella", descricao: "Pizza doce com nutella.", valor: 30.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    { id: 15, categoria: "Pizzas", produto: "Romeu e Julieta", descricao: "Pizza doce com catupiry e goiabada.", valor: 30.90, quantidade: 0, imagem: "imagens/pizzas.jpeg" },
    
    // Categoria: Panuozzos
    { id: 16, categoria: "Panuozzos", produto: "Panuozzo Margherita", descricao: "Pão italiano recheado com molho de tomate, muçarela e manjericão.", valor: 25.90, quantidade: 0, imagem: "imagens/panuozzos.jpg" },
    { id: 17, categoria: "Panuozzos", produto: "Panuozzo Calabresa", descricao: "Pão italiano recheado com molho de tomate, calabresa e muçarela.", valor: 28.90, quantidade: 0, imagem: "imagens/panuozzos.jpg" },
    { id: 18, categoria: "Panuozzos", produto: "Panuozzo Frango", descricao: "Pão italiano recheado com frango desfiado, catupiry e muçarela.", valor: 30.90, quantidade: 0, imagem: "imagens/panuozzos.jpg" },
    { id: 19, categoria: "Panuozzos", produto: "Panuozzo Vegetariano", descricao: "Pão italiano recheado com legumes e muçarela.", valor: 27.90, quantidade: 0, imagem: "imagens/panuozzos.jpg" },
    { id: 20, categoria: "Panuozzos", produto: "Panuozzo Pepperoni", descricao: "Pão italiano recheado com pepperoni e muçarela.", valor: 32.90, quantidade: 0, imagem: "imagens/panuozzos.jpg" },
    { id: 21, categoria: "Panuozzos", produto: "Panuozzo Quatro Queijos", descricao: "Pão italiano recheado com quatro queijos.", valor: 33.90, quantidade: 0, imagem: "imagens/panuozzos.jpg" },
    { id: 22, categoria: "Panuozzos", produto: "Panuozzo Doce", descricao: "Pão italiano recheado com doce de leite e chocolate.", valor: 20.90, quantidade: 0, imagem: "imagens/panuozzos.jpg" },
    { id: 23, categoria: "Panuozzos", produto: "Panuozzo Portuguesa", descricao: "Pão italiano recheado com presunto, ovos, cebola e muçarela.", valor: 31.90, quantidade: 0, imagem: "imagens/panuozzos.jpg" },

    // Categoria: Hamburguers
    { id: 24, categoria: "Hamburguers", produto: "Cheeseburger", descricao: "Hambúrguer bovino, queijo cheddar, alface, tomate e molho especial.", valor: 22.90, quantidade: 0, imagem: "imagens/hamburguers.jpg" },
    { id: 25, categoria: "Hamburguers", produto: "Double Cheeseburger", descricao: "Dois hambúrgueres bovinos, queijo cheddar, alface, tomate e molho especial.", valor: 28.90, quantidade: 0, imagem: "imagens/hamburguers.jpg" },
    { id: 26, categoria: "Hamburguers", produto: "Bacon Burger", descricao: "Hambúrguer bovino, queijo cheddar, bacon crocante, alface, tomate e molho especial.", valor: 25.90, quantidade: 0, imagem: "imagens/hamburguers.jpg" },
    { id: 27, categoria: "Hamburguers", produto: "Chicken Burger", descricao: "Hambúrguer de frango, queijo cheddar, alface, tomate e molho especial.", valor: 20.90, quantidade: 0, imagem: "imagens/hamburguers.jpg" },
    { id: 28, categoria: "Hamburguers", produto: "Veggie Burger", descricao: "Hambúrguer vegetariano, queijo cheddar, alface, tomate e molho especial.", valor: 23.90, quantidade: 0, imagem: "imagens/hamburguers.jpg" },
    { id: 29, categoria: "Hamburguers", produto: "BBQ Burger", descricao: "Hambúrguer bovino, queijo cheddar, cebola caramelizada, molho BBQ.", valor: 26.90, quantidade: 0, imagem: "imagens/hamburguers.jpg" },
    { id: 30, categoria: "Hamburguers", produto: "Classic Burger", descricao: "Hambúrguer bovino, queijo cheddar, alface, tomate e maionese.", valor: 21.90, quantidade: 0, imagem: "imagens/hamburguers.jpg" },
    { id: 31, categoria: "Hamburguers", produto: "Mega Burger", descricao: "Três hambúrgueres bovinos, queijo cheddar, bacon, alface, tomate e molho especial.", valor: 35.90, quantidade: 0, imagem: "imagens/hamburguers.jpg" },

    // Categoria: Hot Dogs
    { id: 32, categoria: "Hot Dogs", produto: "Simple Dog", descricao: "Salsicha, molho especial e purê.", valor: 15.90, quantidade: 0, imagem: "imagens/hotdogs.jpg" },
    { id: 33, categoria: "Hot Dogs", produto: "Cheese Dog", descricao: "Salsicha, queijo derretido, molho especial e purê.", valor: 18.90, quantidade: 0, imagem: "imagens/hotdogs.jpg" },
    { id: 34, categoria: "Hot Dogs", produto: "Bacon Dog", descricao: "Salsicha, queijo derretido, bacon crocante, molho especial e purê.", valor: 20.90, quantidade: 0, imagem: "imagens/hotdogs.jpg" },
    { id: 35, categoria: "Hot Dogs", produto: "Double Dog", descricao: "Duas salsichas, queijo derretido, molho especial e purê.", valor: 22.90, quantidade: 0, imagem: "imagens/hotdogs.jpg" },
    { id: 36, categoria: "Hot Dogs", produto: "Special Dog", descricao: "Salsicha, queijo derretido, batata palha, molho especial e purê.", valor: 25.90, quantidade: 0, imagem: "imagens/hotdogs.jpg" },
    { id: 37, categoria: "Hot Dogs", produto: "Veggie Dog", descricao: "Salsicha vegetal, queijo derretido, molho especial e purê.", valor: 18.90, quantidade: 0, imagem: "imagens/hotdogs.jpg" },
    { id: 38, categoria: "Hot Dogs", produto: "Chili Dog", descricao: "Salsicha, molho chili, queijo derretido e purê.", valor: 23.90, quantidade: 0, imagem: "imagens/hotdogs.jpg" },
    { id: 39, categoria: "Hot Dogs", produto: "Mega Dog", descricao: "Três salsichas, queijo derretido, bacon, molho especial e purê.", valor: 30.90, quantidade: 0, imagem: "imagens/hotdogs.jpg" },

    // Categoria: Bebidas
    { id: 40, categoria: "Bebidas", produto: "Coca-Cola Lata", descricao: "Refrigerante Coca-Cola em lata (350ml).", valor: 6.50, quantidade: 0, imagem: "imagens/bebidas.jpg" },
    { id: 41, categoria: "Bebidas", produto: "Guaraná Lata", descricao: "Refrigerante Guaraná em lata (350ml).", valor: 6.50, quantidade: 0, imagem: "imagens/bebidas.jpg" },
    { id: 42, categoria: "Bebidas", produto: "Fanta Laranja", descricao: "Refrigerante Fanta Laranja em lata (350ml).", valor: 6.50, quantidade: 0, imagem: "imagens/bebidas.jpg" },
    { id: 43, categoria: "Bebidas", produto: "Água Mineral", descricao: "Água mineral sem gás (500ml).", valor: 3.00, quantidade: 0, imagem: "imagens/bebidas.jpg" },
    { id: 44, categoria: "Bebidas", produto: "Suco de Laranja", descricao: "Suco natural de laranja (300ml).", valor: 8.90, quantidade: 0, imagem: "imagens/bebidas.jpg" },
    { id: 45, categoria: "Bebidas", produto: "Suco de Maracujá", descricao: "Suco natural de maracujá (300ml).", valor: 8.90, quantidade: 0, imagem: "imagens/bebidas.jpg" },
    { id: 46, categoria: "Bebidas", produto: "Red Bull", descricao: "Energético Red Bull (250ml).", valor: 12.90, quantidade: 0, imagem: "imagens/bebidas.jpg" },
    { id: 47, categoria: "Bebidas", produto: "Cerveja Heineken", descricao: "Cerveja Heineken Long Neck (330ml).", valor: 10.90, quantidade: 0, imagem: "imagens/bebidas.jpg" },

    // Categoria: Promoções e Combos
    { id: 48, categoria: "Promoções e Combos", produto: "Combo Pizza + Guaraná", descricao: "Pizza Margherita + Guaraná Lata.", valor: 42.90, quantidade: 0, imagem: "imagens/promocoes.jpg" },
    { id: 49, categoria: "Promoções e Combos", produto: "Combo Double Cheeseburger + Refri", descricao: "Double Cheeseburger + Coca-Cola Lata.", valor: 35.90, quantidade: 0, imagem: "imagens/promocoes.jpg" },
    { id: 50, categoria: "Promoções e Combos", produto: "Combo Mega Dog + Suco", descricao: "Mega Dog + Suco de Laranja.", valor: 45.90, quantidade: 0, imagem: "imagens/promocoes.jpg" },
    { id: 51, categoria: "Promoções e Combos", produto: "Combo Veggie Burger + Guaraná", descricao: "Veggie Burger + Guaraná Lata.", valor: 30.90, quantidade: 0, imagem: "imagens/promocoes.jpg" },
    { id: 52, categoria: "Promoções e Combos", produto: "Combo Panuozzo + Refri", descricao: "Panuozzo Margherita + Coca-Cola Lata.", valor: 35.90, quantidade: 0, imagem: "imagens/promocoes.jpg" },
    { id: 53, categoria: "Promoções e Combos", produto: "Combo Pizza Família", descricao: "Pizza Grande (até 3 sabores) + 2 Refrigerantes.", valor: 89.90, quantidade: 0, imagem: "imagens/promocoes.jpg" },
    { id: 54, categoria: "Promoções e Combos", produto: "Combo Hambúrguer Família", descricao: "3 Hambúrgueres + 3 Refrigerantes.", valor: 79.90, quantidade: 0, imagem: "imagens/promocoes.jpg" },
    { id: 55, categoria: "Promoções e Combos", produto: "Combo Hot Dog Família", descricao: "5 Hot Dogs + 5 Refrigerantes.", valor: 99.90, quantidade: 0, imagem: "imagens/promocoes.jpg" }
];

    const horarios = {
      domingo: { aberto: true, abertura: 18, fechamento: 23 },
      segunda: { aberto: false },
      terca: { aberto: false },
      quarta: { aberto: true, abertura: 18, fechamento: 23 },
      quinta: { aberto: true, abertura: 18, fechamento: 23 },
      sexta: { aberto: true, abertura: 18, fechamento: 23 },
      sabado: { aberto: true, abertura: 18, fechamento: 23 }
    };

    const descricaoPerfil = `
##**🍕 A Massa Napolitana: Tradição e Técnica em Cada Pedaço**
***
***
Nossa **massa napolitana** é o coração da autenticidade italiana, preparada com os métodos tradicionais que a tornaram famosa no mundo todo. Elaborada com **farinha italiana "00"**, de moagem fina e baixo teor de glúten, e hidratada com água filtrada, nossa massa é trabalhada em **fermentação lenta** (entre 24 e 48 horas), desenvolvendo um sabor levemente ácido, uma textura aerada e alvéolos irregulares – marca registrada da verdadeira pizza de Nápoles.
***
***
A **textura única** é resultado de um equilíbrio perfeito: fina e suave no centro, mas com uma borda alta e inchada (o famoso *cornicione*), levemente carbonizada em pontos estratégicos. Isso só é possível graças ao **cozimento rápido em altíssima temperatura** (idealmente a quase de 400°C), que garante uma crosta crocante por fora e um interior úmido e macio.
***
***
O segredo está no **toque artesanal**: a massa é **esticada apenas com as mãos** (nunca com rolo), preservando suas bolhas de ar e estrutura irregular. Sem gordura na composição, ela depende exclusivamente da qualidade da farinha, da fermentação controlada e da habilidade do pizzaiolo para atingir a perfeição.
***
***
Leve, digerível e com um **sabor puro e equilibrado**, nossa massa napolitana é uma celebração da simplicidade bem executada. Cada fornada traz o aroma característico do trigo tostado e a leveza que só uma massa feita com tempo, técnica e paixão pode oferecer. **É assim que a Itália se revela em sua forma mais deliciosa!**
***
***
*Observe que não mencionamos recheios, focando apenas nas características técnicas e sensoriais da massa.* 😊**🍕 A Massa Napolitana: Tradição e Técnica em Cada Pedaço**
***
***
**🌯 Panzuotto: A Massa Napolitana em Forma de Obra-Prima**
***
***
Nosso **Panzuotto** leva a mesma massa napolitana artesanal, mas com uma proposta única: uma dobradura perfeita que cria um formato fechado e convidativo. A fermentação lenta garante uma **textura leve e aerada**, enquanto o método de preparo – seja assado em alta temperatura ou frito rapidamente – resulta em uma casca dourada e crocante, com um interior macio e úmido. A massa, esticada manualmente, mantém sua estrutura irregular e alveolada, transformando-se em uma experiência de contrastes: crocância na superfície e nuvem de sabor no interior.
***
***
**🍔 Hamburguer Envolto em Massa Napolitana: A Fusão dos Clássicos**
***
***
Aqui, a tradicional massa napolitana ganha uma nova função: envolver com maestria um hambúrguer em um abraço de farinha e tradição. A mesma **fermentação prolongada** que cria a textura perfeita na pizza agora forma uma capa externa levemente crocante, enquanto o interior permanece incrivelmente macio. O calor do forno faz a massa expandir-se delicadamente, criando uma barreira protetora que mantém todo o vapor e aroma contidos, enquanto desenvolve aquela característica cor dourada com manchas mais escuras – sinal de um cozimento perfeito.
***
***
**🌭 Hot-Dog em Massa Napolitana: Reinterpretando o Clássico**
***
***
Nesta criação, a massa napolitana mostra sua versatilidade ao transformar um ícone da comida rápida em uma experiência gourmet. Esticada com as mãos para manter sua estrutura irregular, a massa subistitui o pão, quando assada, desenvolve uma **superfície levemente crocante** enquanto mantém uma migalha incrivelmente fofa. Os mesmos alvéolos característicos da pizza napolitana aparecem aqui, criando bolsas de ar que tornam cada mordida leve e satisfatória ao mesmo tempo.
***
***
**🧀 Produtos Artesanais**
***
***
Nossos queijos, presuntos, cebola crispy, cebola caramelizada, mostarda e mel, geleia de pimenta, molho pesto, redução de vinagre balsâmico, todos feitos artesanalmente pela "casa" para complementar os tradicionais queijo mussarela e presunto cozido. Os queijos apresentam características únicas de derretimento e sabor, enquanto os frios mantêm seu perfil original, sem aditivos que possam alterar sua essência.
***
***
**Técnica, Tradição e Inovação em Cada Detalhe**
***
***
Desde a fermentação controlada da massa até a seleção criteriosa dos acompanhamentos, cada elemento é pensado para oferecer uma experiência completa. Sem mencionar recheios ou combinações específicas, focamos na excelência de cada componente – porque quando a base é perfeita, o resultado fala por si.##
`; // Sua descrição aqui

    // ================= VARIÁVEIS GLOBAIS =================
    let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
    let cliente = JSON.parse(localStorage.getItem('cliente')) || { nome: '', telefone: '', endereco: '' };

    // ================= FUNÇÕES PRINCIPAIS =================
    function init() {
      verificarHorario();
      loadHome();
      atualizarContadorCarrinho();
      if (cliente.nome) document.getElementById('user-name').textContent = cliente.nome.split(' ')[0];
    }

    function atualizarContadorCarrinho() {
      document.getElementById('carrinho-contador').textContent = carrinho.length;
    }

    function verificarHorario() {
      const agora = new Date();
      const dias = ['domingo', 'segunda', 'terca', 'quarta', 'quinta', 'sexta', 'sabado'];
      const diaSemana = dias[agora.getDay()];
      const horarioAtual = agora.getHours();
      const hoje = horarios[diaSemana];

      const statusElement = document.getElementById('status-loja');
      
      if (!hoje.aberto) {
        statusElement.textContent = `FECHADO - ${diaSemana.toUpperCase()} É NOSSO DIA DE DESCANSO`;
        statusElement.className = 'status-loja fechado';
        return;
      }

      if (horarioAtual >= hoje.abertura && horarioAtual < hoje.fechamento) {
        statusElement.textContent = `ABERTO - FECHAMOS ÀS ${hoje.fechamento}h`;
        statusElement.className = 'status-loja aberto';
      } else {
        statusElement.textContent = `FECHADO - ABRIMOS AMANHÃ ÀS ${hoje.abertura}h`;
        statusElement.className = 'status-loja fechado';
      }
    }

    // ================= PÁGINAS =================
    function loadHome() {
      document.getElementById('content').innerHTML = `
        <div class="page">
          <h2>Cardápio</h2>
          <div id="categorias"></div>
          <div id="lista-produtos" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;"></div>
        </div>
      `;
      renderCategorias();
      renderProdutos(produtos);
    }

    function loadAbout() {
      document.getElementById('content').innerHTML = `
        <div class="page">
          <h2>Sobre Nós</h2>
          <div class="justificado">${descricaoPerfil}</div>
        </div>
      `;
    }

    function loadCart() {
      const subtotal = carrinho.reduce((total, item) => total + (item.valor * (item.quantidade || 1)), 0);
      const desconto = (subtotal * DESCONTO_PERCENTUAL) / 100;
      const total = subtotal + TAXA_ENTREGA - desconto;

      document.getElementById('content').innerHTML = `
        <div class="page">
          <h2>Carrinho</h2>
          <div id="itens-carrinho">
            ${carrinho.length === 0 ? '<p>Carrinho vazio</p>' : 
              carrinho.map(item => `
                <div class="item-carrinho">
                  <div>
                    <strong>${item.produto}</strong><br>
                    <small>${item.descricao.substring(0, 50)}...</small>
                  </div>
                  <div style="text-align: right;">
                    <span>R$ ${(item.valor * (item.quantidade || 1)).toFixed(2)}</span><br>
                    <button onclick="alterarQuantidade('${item.id}', -1)" style="padding: 2px 5px;">-</button>
                    <span>${item.quantidade || 1}</span>
                    <button onclick="alterarQuantidade('${item.id}', 1)" style="padding: 2px 5px;">+</button>
                    <button onclick="removerItem('${item.id}')" style="background: transparent; border: none; color: var(--vermelho);">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              `).join('')}
          </div>
          ${carrinho.length > 0 ? `
            <div style="margin-top: 20px;">
              <p>Subtotal: R$ ${subtotal.toFixed(2)}</p>
              <p>Taxa de entrega: R$ ${TAXA_ENTREGA.toFixed(2)}</p>
              ${DESCONTO_PERCENTUAL > 0 ? `<p>Desconto: ${DESCONTO_PERCENTUAL}% (R$ ${desconto.toFixed(2)})</p>` : ''}
              <p class="destaque">Total: R$ ${total.toFixed(2)}</p>
              <textarea id="observacoes" placeholder="Tirar cebola, borda recheada..." style="width: 100%; padding: 10px; margin: 10px 0;"></textarea>
              <h3>Dados de Entrega</h3>
              <input type="text" id="nome" placeholder="Nome" value="${cliente.nome}" style="width: 100%; padding: 10px; margin-bottom: 10px;">
              <input type="text" id="telefone" placeholder="Telefone" value="${cliente.telefone}" style="width: 100%; padding: 10px; margin-bottom: 10px;">
              <input type="text" id="endereco" placeholder="Endereço" value="${cliente.endereco}" style="width: 100%; padding: 10px; margin-bottom: 10px;">
              <h3>Pagamento</h3>
              <select id="metodo-pagamento" style="width: 100%; padding: 10px; margin-bottom: 20px;">
                <option value="Dinheiro">Dinheiro</option>
                <option value="Crédito">Cartão de Crédito</option>
                <option value="Débito">Cartão de Débito</option>
                <option value="PIX">PIX</option>
              </select>
              <button class="btn-primario" onclick="finalizarPedido()">Finalizar Pedido</button>
              <button class="btn-secundario" onclick="limparCarrinho()" style="margin-top: 10px;">Limpar Tudo</button>
            </div>
          ` : ''}
        </div>
      `;
    }

    // ================= FUNÇÕES AUXILIARES =================
    function renderCategorias() {
      const categorias = [...new Set(produtos.map(p => p.categoria))];
      document.getElementById('categorias').innerHTML = `
        <div style="display: flex; gap: 10px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 10px;">
          <button class="btn-secundario" onclick="renderProdutos(produtos)" style="white-space: nowrap;">
            Todos
          </button>
          ${categorias.map(cat => `
            <button class="btn-secundario" onclick="filtrarProdutos('${cat}')" style="white-space: nowrap;">
              ${cat}
            </button>
          `).join('')}
        </div>
      `;
    }

    function renderProdutos(lista) {
      document.getElementById('lista-produtos').innerHTML = lista.map(produto => `
        <div class="produto">
          <img src="${produto.imagem}" alt="${produto.produto}" onerror="this.src='imagens/padrao.jpg'">
          <h3>${produto.produto}</h3>
          <p style="font-size: 14px; color: #666;">${produto.descricao}</p>
          <p class="destaque">R$ ${produto.valor.toFixed(2)}</p>
          <button class="btn-primario" onclick="adicionarAoCarrinho(${JSON.stringify(produto).replace(/"/g, '&quot;')})">
            <i class="fas fa-plus"></i> Adicionar
          </button>
        </div>
      `).join('');
    }

    function filtrarProdutos(categoria) {
      const filtrados = produtos.filter(p => p.categoria === categoria);
      renderProdutos(filtrados);
    }

    function adicionarAoCarrinho(produtoString) {
      try {
        const produto = JSON.parse(produtoString.replace(/&quot;/g, '"'));
        
        // Verifica se o item já está no carrinho
        const itemExistente = carrinho.find(item => item.id === produto.id);
        
        if (itemExistente) {
          itemExistente.quantidade = (itemExistente.quantidade || 1) + 1;
        } else {
          carrinho.push({
            ...produto,
            id: produto.id.toString(),
            quantidade: 1
          });
        }
        
        localStorage.setItem('carrinho', JSON.stringify(carrinho));
        atualizarContadorCarrinho();
        
        // Feedback visual
        const btn = event.target;
        btn.innerHTML = '<i class="fas fa-check"></i> Adicionado';
        btn.style.backgroundColor = '#4CAF50';
        setTimeout(() => {
          btn.innerHTML = '<i class="fas fa-plus"></i> Adicionar';
          btn.style.backgroundColor = 'var(--vermelho)';
        }, 1000);
      } catch (e) {
        console.error("Erro ao adicionar ao carrinho:", e);
        alert("Erro ao adicionar o produto. Tente novamente.");
      }
    }

    function alterarQuantidade(id, delta) {
      const item = carrinho.find(item => item.id === id);
      if (item) {
        item.quantidade = (item.quantidade || 1) + delta;
        if (item.quantidade < 1) {
          removerItem(id);
          return;
        }
        localStorage.setItem('carrinho', JSON.stringify(carrinho));
        loadCart();
      }
    }

    function removerItem(id) {
      carrinho = carrinho.filter(item => item.id !== id);
      localStorage.setItem('carrinho', JSON.stringify(carrinho));
      atualizarContadorCarrinho();
      loadCart();
    }

    function limparCarrinho() {
      if (confirm('Deseja realmente esvaziar o carrinho?')) {
        carrinho = [];
        localStorage.setItem('carrinho', JSON.stringify(carrinho));
        atualizarContadorCarrinho();
        loadCart();
      }
    }

    function finalizarPedido() {
      // Validar dados do cliente
      const nome = document.getElementById('nome').value;
      const telefone = document.getElementById('telefone').value;
      const endereco = document.getElementById('endereco').value;
      
      if (!nome || !telefone || !endereco) {
        alert('Por favor, preencha todos os dados de entrega!');
        return;
      }

      // Atualizar dados do cliente
      cliente = { nome, telefone, endereco };
      localStorage.setItem('cliente', JSON.stringify(cliente));

      const pedido = {
        data: new Date().toISOString(),
        cliente,
        itens: carrinho,
        observacoes: document.getElementById('observacoes').value,
        metodoPagamento: document.getElementById('metodo-pagamento').value,
        taxaEntrega: TAXA_ENTREGA,
        desconto: DESCONTO_PERCENTUAL,
        status: "Pedido recebido"
      };

      // Simular envio (substituir por API real)
      console.log('Pedido enviado:', pedido);
      
      // Limpar carrinho após pedido
      limparCarrinho();

      // Mostrar confirmação
      document.getElementById('content').innerHTML = `
        <div class="page">
          <h2>Pedido Confirmado!</h2>
          <p>Seu pedido foi recebido e está sendo preparado.</p>
          <p>Número do pedido: #${Math.floor(Math.random() * 10000)}</p>
          <button class="btn-primario" onclick="loadHome()">Voltar ao Cardápio</button>
        </div>
      `;
    }

    // Inicializar
    init();
  </script>
</body>
</html>
